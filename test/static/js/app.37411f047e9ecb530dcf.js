webpackJsonp([10],{0:function(t,e){},"2Fl3":function(t,e){},"7ANE":function(t,e){},MUQL:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),a=n("8+8L"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=n("VU/8")({name:"App",components:{}},s,!1,function(t){n("wilK")},null,null).exports,o=n("/ocq"),c=n("Pxfh"),l=n("mvHQ"),u=n.n(l),d={props:{title:{type:String,default:"发现"}}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"header"},[t._t("title",[n("div",{staticClass:"header_title"},[n("button",{staticClass:"title_back",on:{click:function(e){t.$emit("back")}}},[t._v("<")]),t._v(" "),t._t("title_left"),t._v(" "),n("h3",{staticClass:"title_name"},[t._v(t._s(t.title))]),t._v(" "),t._t("title_right")],2)]),t._v(" "),t._t("default")],2)},staticRenderFns:[]};var f=n("VU/8")(d,m,!1,function(t){n("SWM5")},null,null).exports,v={data:function(){return{data_base:[{id:"0",name:"首页",icon:"icon-home"},{id:"1",name:"发现",icon:"icon-faxian"},{id:"2",name:"订单",icon:"icon-dingdan"},{id:"3",name:"我的",icon:"icon-xiazai"}]}},computed:{myIndex:function(){return this.index}},props:{index:{type:Number,default:0}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"toolbar"},[n("ul",{staticClass:"toolbar_main flex"},t._l(t.data_base,function(e,i){return n("li",{key:e.id},[n("div",{staticClass:"item",class:{on:i==t.myIndex},on:{click:function(n){t.$emit("update:tab",e)}}},[n("i",{class:["iconfont",e.icon]}),t._v(" "),n("span",[t._v(t._s(e.name))])])])}))])},staticRenderFns:[]};var p,_=n("VU/8")(v,h,!1,function(t){n("7ANE")},null,null).exports,y=n("bOdI"),C=n.n(y),b=(n("MUQL"),n("236b")),w=n.n(b),x=(n("eTQP"),n("dpOZ")),E=n.n(x),g=n("BO1k"),S=n.n(g),N={data:function(){return{cityList:null,searchStr:""}},computed:{cityClassList:function(){var t=this.cityList;if(!t)return null;var e,n={},i="",a=!0,s=!1,r=void 0;try{for(var o,c=S()(t);!(a=(o=c.next()).done);a=!0){var l=o.value;(i=l.pinyin[0].toUpperCase())in n?(e=n[i])[e.length]=l:n[i]=[l]}}catch(t){s=!0,r=t}finally{try{!a&&c.return&&c.return()}finally{if(s)throw r}}return n},searchList:function(){var t=this.cityList,e=this.searchStr;if(!t&&!e)return null;var n=e.replace(/.{0}/g,".*");return t.filter(function(t){return new RegExp(n,"gi").test(t.label)})}},components:(p={vHeader:f},C()(p,E.a.name,E.a),C()(p,w.a.name,w.a),p),props:{initCity:{type:Object,default:function(){return{name:"未选择任何城市"}}}},mounted:function(){var t=this;this.$http.get("http://120.79.88.237:8080/api/data/cityName.json").then(function(e){t.cityList=e.body}).catch(function(t){console.log(t)})}},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"city flex"},[n("vHeader",{staticClass:"city_header",attrs:{title:"城市选择"},on:{back:function(e){t.$emit("back")}}},[n("div",{staticClass:"header_searchWrap"},[n("div",{staticClass:"header_search flex"},[n("i",{staticClass:"iconfont icon-sousuo1"}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchStr,expression:"searchStr"}],staticClass:"search_input",attrs:{type:"text",placeholder:"请输入城市名查询"},domProps:{value:t.searchStr},on:{input:function(e){e.target.composing||(t.searchStr=e.target.value)}}})])])]),t._v(" "),n("div",{staticClass:"city_main flex grow_shrink"},[n("div",{staticClass:"city_current"},[n("div",{staticClass:"current_main"},[t._v("\r\n\t\t\t\t当前城市："),n("span",[t._v(t._s(t.initCity.name))])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.searchStr,expression:"searchStr"}],staticClass:"city_search grow_shrink"},[n("ul",{staticClass:"search_list"},t._l(t.searchList,function(e,i){return n("li",{key:i,on:{click:function(n){t.$emit("update:select",e)}}},[t._v(t._s(e.name))])}))]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.searchStr,expression:"!searchStr"}],staticClass:"city_list"},[t.cityList?n("mt-index-list",t._l(t.cityClassList,function(e,i){return n("mt-index-section",{key:i,attrs:{index:i}},t._l(e,function(e,i){return n("li",{key:i,on:{click:function(n){t.$emit("update:select",e)}}},[t._v(t._s(e.name))])}))})):n("div",[t._v("\r\n\t\t\t\t未获取到城市列表数据\r\n\t\t\t")])],1)])],1)},staticRenderFns:[]};var T={data:function(){var t=this.$route.meta;return{title:t.title,index:t.id,pathsArr:[c.a.HOME,c.a.DISCOVER,c.a.INDENT,c.a.MY],site_show:!1,county_searchStr:"",city:{name:"未选取城市"},city_show:!1}},methods:{tab:function(t){this.$router.push(this.pathsArr[t.id])},back:function(){this.$router.go(-1)},siteSelect:function(t){this.city=t,localStorage.setItem("city",u()(t)),this.backCity()},backCity:function(){this.city_show=!1}},computed:{isHome:function(){var t=this.$route.path;return/^(\/home(\?|\/)?|\/$)/.test(t)},site:function(){return{city:this.city,county:this.county_searchStr}}},components:{vHeader:f,vToolbar:_,vCity:n("VU/8")(N,k,!1,function(t){n("ZIIQ")},null,null).exports},mounted:function(){var t=this;document.title="饿不饿",this.$router.beforeEach(function(e,n,i){var a=e.meta;a.title&&(document.title=t.title=a.title),t.index=a.id,i()});var e=localStorage.getItem("city");e?this.city=JSON.parse(e):this.site_show=!0}},$={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"frame"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isHome,expression:"isHome"}],staticClass:"home_header"},[n("vHeader",[n("div",{staticClass:"home_title",attrs:{slot:"title"},slot:"title"},[n("div",{staticClass:"title_content flex",on:{click:function(e){t.site_show=!0,t.county_searchStr=""}}},[n("i",{staticClass:"iconfont icon-location"}),n("span",{staticClass:"content_main t_ellipsis"},[t._v(t._s(t.site.city.name))])])]),t._v(" "),n("div",{directives:[{name:"fixed",rawName:"v-fixed"}],staticClass:"home_searchWrap"},[n("div",{staticClass:"home_search flex"},[n("i",{staticClass:"iconfont icon-sousuo1"}),t._v("搜索一下饿不饿商家\r\n\t\t\t\t")])])]),t._v(" "),n("transition",{attrs:{name:"site"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.site_show,expression:"site_show"}],staticClass:"site"},[n("vHeader",{staticClass:"site_header",attrs:{title:"选择收货地址"},on:{back:function(e){t.site_show=!1}}},[n("span",{staticClass:"site_add",attrs:{slot:"title_right"},slot:"title_right"},[t._v("新增地址")])]),t._v(" "),n("div",{staticClass:"site_search flex"},[n("div",{staticClass:"search_current",on:{click:function(e){t.city_show=!0}}},[t._v(t._s(t.city.name))]),t._v(" "),n("div",{staticClass:"search_con flex"},[n("i",{staticClass:"iconfont icon-sousuo1"}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.county_searchStr,expression:"county_searchStr"}],staticClass:"con_input",attrs:{type:"text",placeholder:"请输入收货地址"},domProps:{value:t.county_searchStr},on:{input:function(e){e.target.composing||(t.county_searchStr=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"site_con"},[t._v("\r\n\t\t\t\t"+t._s(t.site.county)+"\r\n\t\t\t")])],1)]),t._v(" "),n("vCity",{directives:[{name:"show",rawName:"v-show",value:t.city_show,expression:"city_show"}],staticClass:"city",attrs:{initCity:t.city},on:{"update:select":t.siteSelect,back:t.backCity}})],1),t._v(" "),n("vHeader",{directives:[{name:"show",rawName:"v-show",value:!t.isHome,expression:"!isHome"}],staticClass:"header",attrs:{title:t.title},on:{back:t.back}}),t._v(" "),n("router-view"),t._v(" "),n("vToolbar",{attrs:{index:t.index},on:{"update:tab":t.tab}})],1)},staticRenderFns:[]};var A=n("VU/8")(T,$,!1,function(t){n("2Fl3")},null,null).exports;i.default.use(o.a);var L=[{path:c.a.HOME,alias:"/",component:A,children:[{path:c.a.HOME,component:function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"M9M8"))},meta:{title:"首页",id:0}},{path:c.a.DISCOVER,component:function(){return n.e(4).then(n.bind(null,"KxlV"))},meta:{title:"发现",id:1}},{path:c.a.INDENT,component:function(){return n.e(8).then(n.bind(null,"TsuZ"))},meta:{title:"订单",id:2}},{path:c.a.MY,component:function(){return n.e(5).then(n.bind(null,"mC6t"))},meta:{title:"我的",id:3}}]},{path:c.a.DETAIL,redirect:c.a.MENU,name:c.a.DETAIL,component:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"+6ey"))},children:[{path:c.a.MENU,name:c.a.MENU,component:function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"1mig"))}},{path:c.a.EVALUATE,name:c.a.EVALUATE,component:function(){return n.e(6).then(n.bind(null,"eBlc"))}},{path:c.a.MERCHANT,name:c.a.MERCHANT,component:function(){return n.e(7).then(n.bind(null,"fDvs"))}}]}],M=new o.a({routes:L});M.beforeEach(function(t,e,n){document.documentElement.scrollTop=0,document.body.scrollTop=0,n()});var H=M,I=n("NYxO");function O(t,e){var n=t.data;if(n&&"404"!=n.code&&n[e])return JSON.parse(n[e].body)}function P(t){for(var e in t)return!1;return!0}var U={namespaced:!0,state:{data:null,count:{},classCount:{}},mutations:{setData:function(t,e){t.data=e},add:function(t,e){var n,a,s=e.tid,r=e.item,o=r.restaurant_id,c=r.item_id,l=t.count,u=t.classCount;o in l?(c in(n=l[o])?n[c].count++:i.default.set(n,c,{count:1,tid:s,item:r}),s in(a=u[o])?a[s]++:a[s]=1):(i.default.set(l,o,C()({},c,{count:1,item:r,tid:s})),i.default.set(u,o,C()({},s,1)))},reduce:function(t,e){var n=e.item,i=e.tid,a=n.restaurant_id,s=n.item_id,r=t.count,o=t.classCount,c=r[a],l=t.classCount[a];a in r&&s in c&&(c[s].count--,c[s].count<=0&&(delete c[s],P(c)&&delete r[a])),a in o&&i in l&&(l[i]--,l[i]<=0&&(delete l[i],P(l)&&delete o[a]))},clear:function(t,e){i.default.delete(t.count,e),i.default.delete(t.classCount,e)}},getters:{bought_list:function(t){return O(t,"bought_list")},menu:function(t){return O(t,"menu")},recommend:function(t){return O(t,"recommend")[0]},redpack:function(t){return O(t,"redpack")},rst:function(t){return O(t,"rst")}}};i.default.use(I.a);var R=new I.a.Store({state:{},mutations:{},modules:{main:{namespaced:!0,state:{currentPage:null},mutations:{changePage:function(t,e){t.currentPage=e}}},detail:U}}),V=n("pFYg"),D=n.n(V);function F(t,e,n){return t?(t=t.replace(/^(.{1})(.{2})(.+(jpeg|png))$/g,"$1/$2/$3.$4"),e=e||90,e=n?e:e+"x"+e,n?"//fuss10.elemecdn.com/"+t+"?imageMogr/format/webp/thumbnail/"+e+"x/":"//fuss10.elemecdn.com/"+t+"?imageMogr/format/webp/thumbnail/!"+e+"r/gravity/Center/crop/"+e+"/"):""}function Q(t){for(var e,n=[],i=0;i<t.length;i++)e=t[i],Array.isArray(e)?e=Q(e):"object"===(void 0===e?"undefined":D()(e))&&(e=W(e)),n[i]=e;return n}function W(t){var e,n={};for(var i in t)e=t[i],Array.isArray(e)?e=Q(e):"object"===(void 0===e?"undefined":D()(e))&&(e=W(e)),n[i]=e;return n}function j(t){return Array.isArray(t)?Q(t):W(t)}function Y(t,e){e=e||this.$el;var n=t||0;if("fixed"!==getComputedStyle(e).position){do{n+=e.offsetTop,e=e.offsetParent}while(e);document.documentElement.scrollTop=n,document.body.scrollTop=n}}var z={inserted:function(t,e){var n,i=0,a=t,s=parseInt(e.arg)||0;do{i+=a.offsetTop,a=a.offsetParent}while(a);n=function(t,e,n,i){n=n||0;var a,s=null,r=e.offsetHeight,o={position:"fixed",left:0,top:n/100+"rem",width:"100%",zIndex:100},c=document.createElement("p");return c.style.height=r/100+"rem",c.style.display="none",e.after?e.after(c):e.parentNode.insertBefore(c,e.nextElementSibling),function(){var r=document.documentElement.scrollTop||document.body.scrollTop;if(s!==(a=r>=t-n)){for(var l in o)e.style[l]=a?o[l]:"";c.style.display=a?"":"none",i&&i(a),s=a}}}(i,t,s,e.value),window.addEventListener("scroll",n,!1),document.body.addEventListener("scroll",n,!1),document.documentElement.addEventListener("scroll",n,!1),document.addEventListener("touchmove",n,!1),document.body,addEventListener("touchmove",n,!1)}},Z={install:function(t){t.prototype.$formatImgSrc=F,t.prototype.$copy=j,t.prototype.$top=Y,t.directive("fixed",z)}};i.default.use(a.a),i.default.use(Z),i.default.config.productionTip=!1,new i.default({el:"#app",components:{App:r},template:"<App/>",router:H,store:R}),function(){var t=500,e=100,n=document.documentElement,i=0;function a(){i=n.clientWidth||document.body.cilentWidth,n.style.fontSize=i/t*e+"px"}a(),window.addEventListener("resize",a,!1)}()},Pxfh:function(t,e,n){"use strict";e.a={HOME:"/home",DISCOVER:"/discover",INDENT:"/indent",MY:"/user",DETAIL:"/detail",MENU:"/detail/menu",EVALUATE:"/detail/evaluate",MERCHANT:"/detail/merchant"}},SWM5:function(t,e){},ZIIQ:function(t,e){},eTQP:function(t,e){},wilK:function(t,e){}},["NHnr"]);